<!--The content below is only a placeholder and can be replaced.-->
<div class="container">
  <div style="text-align:center">
    <h1>
      Welcome to hitchwiki-poi generator!
    </h1>
    <img width="300" alt="Logo"
         src="assets/images/undraw_directions_x53j.png">
  </div>
  <form name="editForm" role="form" novalidate [formGroup]="corsForm">
    <label for="corsUrl">Cors Proxy URL</label>
    <input name="corsUrl" id="corsUrl" class="form-control" type="text" formControlName="url">
  </form>

  <a class="btn-block btn btn-primary" target="_blank" rel="noopener" href="assets/kml/world.kml"
     type="application/vnd.google-earth.kml+xml">Download preprocessed world.kml</a>

  <button class="btn-block btn btn-primary" (click)="downloadAll(0)">
    Generate kml file for every country
  </button>

  <h2>Countries</h2>
  <table class="table table-striped">
    <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Country</th>
      <th scope="col">Number of Places</th>
      <th scope="col"></th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let country of countries; index as i">
      <th scope="row">{{ i + 1 }}</th>
      <td>
        <a>{{country.name}}</a>
      </td>
      <td>
        {{country.numberOfPlaces}}
      </td>
      <td>
        <button
          *ngIf="!country.numberOfDownloadedPlaces  || country.numberOfDownloadedPlaces== 0 || country.numberOfDownloadedPlaces == country.numberOfPlaces"
          class="btn"
          [ngClass]="{'btn-primary':!country.numberOfDownloadedPlaces  || country.numberOfDownloadedPlaces== 0, 'btn-success':country.numberOfDownloadedPlaces == country.numberOfPlaces}"
          (click)="downloadCountryKmlFile(country)">Download
        </button>
        <ngb-progressbar *ngIf="country.placesInfo && country.numberOfDownloadedPlaces < country.numberOfPlaces"
                         type="warning" [value]="country.numberOfDownloadedPlaces * 100 / country.numberOfPlaces"
                         [striped]="true"
                         [animated]="true">
          <i>{{country.numberOfDownloadedPlaces * 100 / country.numberOfPlaces | number : '1.2-2'}}%</i>
        </ngb-progressbar>
      </td>
    </tr>
    </tbody>
  </table>


</div>
